(function(){if(window.QV_BOOT)return;window.QV_BOOT=true;const head=document.head;const cssHref="/assets/css/ux.css";if(!document.querySelector(`link[href="${cssHref}"]`)){const l=document.createElement("link");l.rel="stylesheet";l.href=cssHref;head.appendChild(l);}const ensureScript=(src)=>{if(!document.querySelector(`script[src="${src}"]`)){const s=document.createElement("script");s.src=src;s.defer=true;head.appendChild(s);}};ensureScript("/assets/js/notify.js");ensureScript("/assets/js/forms.js");function markForms(){document.querySelectorAll("form:not(.qv-form)").forEach((f)=>f.classList.add("qv-form"));document.dispatchEvent(new CustomEvent("qv:forms-marked"));}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",markForms);}else{markForms();}const toggle=document.getElementById("qvToggle");function closeSheet(){if(toggle)toggle.checked=false;}function go(where){if(!where)return;closeSheet();if(where==='home'){location.assign('/');return;}if(where.startsWith('home#')){location.assign('/#'+where.split('#')[1]);return;}if(where==='servicios'){location.assign('/servicios/');return;}location.assign(where);}document.addEventListener("click",(e)=>{const trg=e.target.closest("[data-goto]");if(!trg)return;e.preventDefault();go(trg.getAttribute("data-goto"));},{passive:false});document.addEventListener("click",(e)=>{const a=e.target.closest('a[href^="#"]');if(!a)return;const id=a.getAttribute("href");const el=document.querySelector(id);if(el){e.preventDefault();closeSheet();el.scrollIntoView({behavior:"smooth",block:"start"});}});(function(){const hdr=document.getElementById("qv-header");if(!hdr)return;let lastY=window.scrollY,ticking=false;function onScroll(){const y=window.scrollY;const hide=(y>lastY && y>80);hdr.style.transform=hide ? "translateY(-100%)":"translateY(0)";lastY=y;ticking=false;}window.addEventListener("scroll",()=>{if(!ticking){requestAnimationFrame(onScroll);ticking=true;}},{passive:true});})();document.querySelectorAll("[data-close-sheet]").forEach((el)=>el.addEventListener("click",closeSheet));})();function activarToasts(){if(typeof toast !=="undefined"){window.alert=(msg)=>toast.ok("✅ Correcto",String(msg || ""));console.log("✅ Toasts ACTIVOS(global)");}else{console.warn("⚠ Toast API no disponible todavía");}}document.addEventListener("qv-header-loaded",activarToasts);document.addEventListener("DOMContentLoaded",()=>setTimeout(activarToasts,80));document.addEventListener("DOMContentLoaded",()=>{const target=document.getElementById("header-placeholder");if(!target)return;const obs=new MutationObserver(()=>{const ev=new Event("qv-header-loaded");document.dispatchEvent(ev);});obs.observe(target,{childList:true,subtree:true});});